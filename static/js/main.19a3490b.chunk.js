(this["webpackJsonpmy-store"]=this["webpackJsonpmy-store"]||[]).push([[0],{28:function(e,t,a){},39:function(e,t,a){e.exports=a(66)},44:function(e,t,a){},45:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),i=(a(44),a(10)),o=a(11),u=a(14),s=a(13),m=(a(45),a(17)),d=a(67),p=a(12),f=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex app-header"},r.a.createElement("h1",null,"W3"),r.a.createElement("ul",null,r.a.createElement(m.b,{to:"/",className:"link"}," ",r.a.createElement("li",{className:"float-left apphli"},"About")),r.a.createElement(m.b,{to:"/goods",className:"link"},r.a.createElement("li",{className:"float-left apphli"},"Goods")),r.a.createElement("li",{className:"float-left apphli",onClick:function(){e.props.findDiscount()}},"Discounts"),r.a.createElement("li",{className:"float-left apphli"},"Delivery"),r.a.createElement("li",{className:"float-left apphli"},"Contact us")),r.a.createElement(d.a,{color:"primary",className:"login"},r.a.createElement(m.b,{to:"/logg",className:"link"},"Log in")))}}]),a}(n.Component),E={findDiscount:function(){return{type:"FIND_DISCOUNT"}}},v=Object(p.b)((function(e){return{menu:e.menu,filteredItems:e.filteredItems}}),E)(f),h=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex"},r.a.createElement("input",{type:"search",placeholder:"Search",onChange:function(t){e.props.findItem(t.target.value)}}),r.a.createElement("button",{onClick:function(t){e.props.findItem(t.currentTarget.previousElementSibling.value)}},r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-search",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"}),r.a.createElement("path",{"fill-rule":"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"}))))}}]),a}(n.Component),b={findItem:function(e){return{type:"FIND_ITEM",payload:e}}},g=Object(p.b)((function(e){return{menu:e.menu,filteredItems:e.filteredItems}}),b)(h),O=Object(p.b)((function(e){return{totalPrice:e.totalPrice}}))((function(e){var t=e.totalPrice;return r.a.createElement("div",{className:"d-flex"},r.a.createElement(m.b,{to:"/cart"},r.a.createElement("button",{className:"btno"},r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-basket",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M5.757 1.071a.5.5 0 0 1 .172.686L3.383 6h9.234L10.07 1.757a.5.5 0 1 1 .858-.514L13.783 6H15a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1v4.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 13.5V9a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h1.217L5.07 1.243a.5.5 0 0 1 .686-.172zM2 9v4.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V9H2zM1 7v1h14V7H1zm3 3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 4 10zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 6 10zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 8 10zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5z"}))," Cart  ",t,"$")))})),y=(a(51),function(e){var t=e.gooditem,a=e.onAddToCart,n=t.title,c=t.price,l=t.url,i=t.category;return r.a.createElement("li",{className:"goodlistli"},r.a.createElement("div",{className:"menu__title"},n),r.a.createElement("img",{className:"menu__img",src:l,alt:"Witcher 3"}),r.a.createElement("div",{className:"menu__category"},"Category: ",r.a.createElement("span",null,i)),r.a.createElement("div",{className:"menu__price"},"Price: ",r.a.createElement("span",null,c,"$")),r.a.createElement("button",{onClick:function(){return a()},className:"menu__btn"},"Add to cart"))}),j=(a(52),r.a.createContext()),_=function(){return function(e){return function(t){return r.a.createElement(j.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{StoreService:a}))}))}}},w=(a(53),function(){return r.a.createElement("div",{className:"lds-css ng-scope"},r.a.createElement("div",{className:"lds-spin"},r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null))))}),N=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.menuRequested(),this.props.StoreService.getMenuItems().then((function(t){return e.props.menuLoaded(t)}))}},{key:"render",value:function(){var e=this.props,t=e.goodsItems,a=e.loading,n=e.addedToCart;return a?r.a.createElement(w,null):r.a.createElement("ul",{className:"goodlist"},t.map((function(e){return r.a.createElement(y,{key:e.id,gooditem:e,onAddToCart:function(){return n(e.id)}})})))}}]),a}(n.Component),C={menuLoaded:function(e){return{type:"MENU_LOADED",payload:e}},menuRequested:function(){return{type:"MENU_REQUESTED"}},addedToCart:function(e){return{type:"ITEM_ADD_TO_CART",payload:e}}},k=_()(Object(p.b)((function(e){return{goodsItems:e.filteredItems,loading:e.loading}}),C)(N)),x=a(73),I=(a(54),[{src:"https://www.mirf.ru/wp-content/uploads/2015/12/witcher3-2.jpg",altText:"",caption:"",header:"",key:"1"},{src:"https://sm.ign.com/t/ign_ru/screenshot/default/injustice2-harley-quinn-wallpaper-1920x1080-30_7h2t.1024.jpg",altText:"",caption:"",header:"",key:"2"},{src:"https://etalongame.com/wp-content/uploads/2015/10/fallout-4-main-750x429.jpg",altText:"",caption:"",header:"",key:"3"},{src:"https://cdn02.nintendo-europe.com/media/images/10_share_images/games_15/wiiu_14/SI_WiiU_MassEffect3SpecialEdition_enGB_image1600w.jpg",altText:"",caption:"",header:"",key:"4"},{src:"https://sneg.tv/wp-content/uploads/2020/02/maxresdefault.jpg",altText:"",caption:"",header:"",key:"5"}]),T=function(){return r.a.createElement(x.a,{className:"slider",items:I})},D=a(68),M=(a(62),function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(D.a,{className:"menu"},r.a.createElement(d.a,{color:"primary",onClick:function(){return e.props.findCategory("")}},"All"),r.a.createElement(d.a,{color:"primary",onClick:function(){return e.props.findCategory("PC")}},"PC"),r.a.createElement(d.a,{color:"primary",onClick:function(){return e.props.findCategory("XBOX 360")}},"Xbox360"),r.a.createElement(d.a,{color:"primary",onClick:function(){return e.props.findCategory("PS")}},"PlayStation"))}}]),a}(n.Component)),S={findCategory:function(e){return{type:"FIND_CATEGORY",payload:e}}},A=Object(p.b)((function(e){return{menu:e.menu,filteredItems:e.filteredItems}}),S)(M),P=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null),r.a.createElement(T,null),r.a.createElement(k,null))},R=function(e){return e.map((function(e){return{id:e.id,qtty:e.num}}))},F={deleteFromCart:function(e){return{type:"ITEM_DELETE_FROM_CART",payload:e}}},L=_()(Object(p.b)((function(e){return{items:e.items}}),F)((function(e){var t=e.items,a=e.deleteFromCart,n=e.StoreService;return r.a.createElement("li",null,r.a.createElement("div",{className:"cart__title"},"Your Order:"),r.a.createElement("div",{className:"cart__list"},t.map((function(e){var t=e.title,n=e.price,c=e.url,l=e.id,i=e.num;return r.a.createElement("div",{className:"cart__item"},r.a.createElement("img",{src:c,alt:t}),r.a.createElement("div",{className:"cart__item-title"},t),r.a.createElement("div",{className:"cart__item-price"},n,"$*",i),r.a.createElement("div",{onClick:function(){return a(l)},className:"cart__close"},"\xd7"))}))),r.a.createElement("button",{onClick:function(){n.setOrder(R(t))}},"Set Order"))}))),z=(a(28),function(){return r.a.createElement("ul",{className:"cart"},r.a.createElement(L,null))}),U=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Welcome to Our Store"),r.a.createElement("img",{className:"imgsk",src:"https://wallpapercave.com/wp/vpUvE5L.jpg",alt:"skyrimscenary"}))},B=a(69),W=a(70),q=a(71),G=a(72),V=(a(63),function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(B.a,{className:"logform"},r.a.createElement(W.a,null,r.a.createElement(q.a,{for:"exampleEmail"},"Email"),r.a.createElement(G.a,{type:"email",name:"email",id:"exampleEmail",placeholder:"Email"}))," ",r.a.createElement(W.a,null,r.a.createElement(q.a,{for:"examplePassword"},"Password"),r.a.createElement(G.a,{type:"password",name:"password",id:"examplePassword",placeholder:"Password"}))," ",r.a.createElement(d.a,null,"Submit"))}}]),a}(n.Component)),$=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(V,null))},H=(a(64),a(8)),J=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:""},r.a.createElement(v,null),r.a.createElement("div",{className:"d-flex search"},r.a.createElement(g,null),r.a.createElement(O,null)),r.a.createElement(H.c,null,r.a.createElement(H.a,{path:"/",exact:!0,component:U}),r.a.createElement(H.a,{path:"/logg",exact:!0,component:$}),r.a.createElement(H.a,{path:"/cart",component:z}),r.a.createElement(H.a,{exact:!0,component:P}),r.a.createElement(H.a,{path:"/goods",exact:!0,component:P})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=function(){return r.a.createElement("div",{className:"error"},"Error")},Y=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={error:!1},e}return Object(o.a)(a,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?r.a.createElement(X,null):this.props.children}}]),a}(n.Component),Q=a(18),K=a.n(Q),Z=a(22),ee=a(25),te=a(20),ae=a(9),ne={menu:[],loading:!0,items:[],totalPrice:0,filteredItems:[],category:"",title:"",logg:!1},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU_LOADED":return Object(ae.a)(Object(ae.a)({},e),{},{menu:t.payload,loading:!1,filteredItems:t.payload,logg:!1});case"MENU_REQUSTED":return Object(ae.a)(Object(ae.a)({},e),{},{menu:e.menu,loading:!0,logg:!1});case"ITEM_ADD_TO_CART":var a=t.payload,n=e.items.findIndex((function(e){return e.id===a}));if(n>=0){var r=e.items.find((function(e){return e.id===a})),c=Object(ae.a)(Object(ae.a)({},r),{},{num:++r.num});return Object(ae.a)(Object(ae.a)({},e),{},{items:[].concat(Object(te.a)(e.items.slice(0,n)),[c],Object(te.a)(e.items.slice(n+1))),totalPrice:e.totalPrice+c.price})}var l=e.menu.find((function(e){return e.id===a})),i={title:l.title,url:l.url,id:l.id,price:l.price,num:1};return Object(ae.a)(Object(ae.a)({},e),{},{items:[].concat(Object(te.a)(e.items),[i]),totalPrice:e.totalPrice+i.price});case"ITEM_DELETE_FROM_CART":var o=t.payload,u=e.items.findIndex((function(e){return e.id===o})),s=e.items[u].price*e.items[u].num;return Object(ae.a)(Object(ae.a)({},e),{},{items:[].concat(Object(te.a)(e.items.slice(0,u)),Object(te.a)(e.items.slice(u+1))),totalPrice:e.totalPrice-s});case"FIND_CATEGORY":var m=t.payload;return Object(ae.a)(Object(ae.a)({},e),{},{filteredItems:e.menu.filter((function(e){return""===m?e:e.category===m}))});case"FIND_ITEM":var d=t.payload;return Object(ae.a)(Object(ae.a)({},e),{},{filteredItems:e.menu.filter((function(e){return""===d?e:e.title.indexOf(d)>-1}))});case"FIND_DISCOUNT":return Object(ae.a)(Object(ae.a)({},e),{},{filteredItems:e.menu.filter((function(e){return e.discount}))});default:return e}},ce=Object(ee.b)(re),le=new function e(){var t=this;Object(i.a)(this,e),this._apiBase="http://localhost:3001",this.getResource=function(){var e=Object(Z.a)(K.a.mark((function e(a){var n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(a));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(a)+", received ".concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getMenuItems=Object(Z.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/menu/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.setOrder=function(){var e=Object(Z.a)(K.a.mark((function e(a){var n,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getOrderNumber();case 2:return n=e.sent,r={id:n,order:a},e.next=6,fetch("".concat(t._apiBase,"/cart"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(r)});case 6:if(e.sent.ok){e.next=9;break}throw new Error("json error");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getOrderNumber=Object(Z.a)(K.a.mark((function e(){var a,n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/cart/");case 2:return a=e.sent,n=a.length+1,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))};l.a.render(r.a.createElement(p.a,{store:ce},r.a.createElement(Y,null,r.a.createElement(j.Provider,{value:le},r.a.createElement(m.a,null,r.a.createElement(J,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.19a3490b.chunk.js.map